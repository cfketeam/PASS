\name{simu.data}
\alias{simu.data}
%- Also NEED an '\alias' for EACH other topic documented here.
\title{
generate the simulation data
%%  ~~function to do ... ~~
}
\description{
Generate simulation data under the logistic regression model and Cox proportional hazards regression model.
%%  ~~ A concise (1-5 lines) description of what the function does. ~~
}
\usage{
simu.data(n, p, family, k, rho = 0, sigma = 1, beta = NULL, censoring = TRUE,
                  c = 1, scal, alpha=4)
}
%- maybe also 'usage' for other objects documented here.
\arguments{
  \item{n}{The number of observations.}
  \item{p}{The number of predictors of interest.}
  \item{family}{The distribution of the simulated data: "binomial" for logistic regression model and "cox" for Cox proportional hazards regression model.}
  \item{k}{The number of nonzero coefficients in the underlying regression model.}
  \item{rho}{A parameter used to characterize the pairwise correlation between predictors. Default is 0.}
  \item{sigma}{A parameter used to control the signal-to-noise ratio. For logistic regression and Cox model, the larger the value of sigma, the higher the signal-to-noise ratio.}
  \item{beta}{The coefficient values in the underlying regression model.}
  \item{censoring}{Whether data is censored or not. Only necessary if ' family ' is of class 'cox'; otherwise ignored. Default is TRUE.}
  \item{c}{The censoring rate. Only necessary if ' family ' is of class 'cox'; otherwise ignored. Default is 1.}
  \item{scal}{A parameter in generating survival time based on the Weibull distribution. Only necessary if ' family ' is of class 'cox'; otherwise ignored. Default is 1.}
  \item{alpha}{A parameter in generating disturbances controlling the prediction performance underlying the nonzero coefficients.}

}
\details{
We generated the design matrix \eqn{\bar{X}}. and the underlying coefficients Î² as follows. The design matrix X was generated with
\deqn{X_j = \bar{X}_j + rho(\bar{X}_{j+1}+\bar{X}_{j-1})}
For logistic regression, the binary response was generated by
\deqn{Prob(Y = 1) = exp(X beta + delta)/(1 + exp(X beta + delta))}
The ranges of nonzero coefficients were set as [4b,8b], \eqn{b=5\sqrt{2log(p)/n}}, The disturbance delta was subjected to a normal distribution \eqn{delta \sim N(0,alpha^2)}.
For Cox regression, we generated data with hazard rate
\deqn{T = (-log(S(t))/exp(X beta + delta))^{(1/scal)}}
The ranges of nonzero coefficients were set the same as those in logistic regression, set as [4b,7b],
\eqn{b=5\sqrt{2log(p)/n}}, the disturbance delta was subjected to a normal distribution \eqn{delta \sim N(0,alpha^2)}.
%%  ~~ If necessary, more details than the description above ~~
}
\value{
\item{x }{Design matrix of predictors.}
\item{y }{Response variable.}
\item{Tbeta }{The coefficients used in the underlying regression model.}
%%  ~Describe the value returned
%%  If it is a LIST, use
%%  \item{comp1 }{Description of 'comp1'}
%%  \item{comp2 }{Description of 'comp2'}
%% ...
}
\references{
%% ~put references to the literature/web site here ~
}
\author{
Chaofu Ke, Luying Wu
%%  ~~who you are~~
}
\note{
%%  ~~further notes~~
}

%% ~Make other sections like Warning with \section{Warning }{....} ~

\seealso{
%% ~~objects to See Also as \code{\link{help}}, ~~~
}
\examples{
K <-10
sigma <- 1
rho <- 0.5
a <- simu.data(n=200,p=1000,family = "binomial", k, rho, sigma,alpha=4)
summary(a)

}
% Add one or more standard keywords, see file 'KEYWORDS' in the
% R documentation directory (show via RShowDoc("KEYWORDS")):
% \keyword{ ~kwd1 }
% \keyword{ ~kwd2 }
% Use only one keyword per line.
% For non-standard keywords, use \concept instead of \keyword:
% \concept{ ~cpt1 }
% \concept{ ~cpt2 }
% Use only one concept per line.
